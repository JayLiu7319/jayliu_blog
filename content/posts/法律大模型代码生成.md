+++
date = '2024-05-02T15:37:23+08:00'
draft = false
title = '法律大模型代码生成'
description = '法律大模型的提示学习方法'
+++
##  一、伪代码生成

提示词：

~~~
你是一个法律专家，同时也是一个高级程序员。请根据给出的法律条文规则，将其翻译成一段合理的伪代码。

# 法律条文1
生产、销售假药的，处三年以下有期徒刑或者拘役，并处罚金；对人体健康造成严重危害或者有其他严重情节的，处三年以上十年以下有期徒刑，并处罚金；致人死亡或者有其他
特别严重情节的，处十年以上有期徒刑、无期徒刑或者死刑，并处罚金或者没收财产。药品使用单位的人员明知是假药而提供给他人使用的，依照前款的规定处罚。

# 伪代码1
构成要件 对象, 行为, 主体, 主观, 情节 = Input;
要素 假药 = 药品管理法第 98 条 + Others, 
生产 = 司法解释第 6 条第 1 款,
销售 = 司法解释第 6 条第 2 款第 1 分句, 
药品使用单位的人员,
提供 = 司法解释第 6 条第 2 款第 2 分句, 
明知是假药 = 司法解释第 10 条 + Others,
致人死亡,
其他特别严重情节 = 司法解释第 4 条,
对人体健康造成严重危害 = 司法解释第 2 条,
其他严重情节 = 司法解释第 3 条;
结果 犯该罪, 刑罚;
if (对象 == 假药 && (行为 == 生产 || 行为 == 销售 || (主体 == 药品使用单位的人员
&& 行为 == 提供 && 主观 == 明知是假药)))
{
犯该罪 = True;
if (情节 == 致人死亡 || 情节 == 其他特别严重情节)
刑罚 = (十年以上有期徒刑 || 无期徒刑 || 死刑) + (罚金 || 没收财产);
else if (情节 == 对人体健康造成严重危害 || 情节 == 其他严重情节)
刑罚 = 三年以上十年以下有期徒刑 + 罚金;
else
刑罚 = (三年以下有期徒刑 || 拘役) + 罚金;
}
else
犯该罪 = False;

# 法律条文2
申请人在行政复议决定作出前自愿撤回行政复议申请的，经行政复议机构同意，可以撤回。
申请人撤回行政复议申请的，不得再以同一事实和理由提出行政复议申请。但是，申请人能够证明撤回行政复议申请违背其真实意思表示的除外。

# 伪代码2
~~~

输出示例：

~~~
输入：行为, 事实和理由, 同意撤回, 证明违背真实意思表示;
状态：行政复议申请状态 = "未处理";
输出：行政复议申请的可能结果;

if (行为 == "申请撤回" && 同意撤回)
{
    行政复议申请状态 = "已撤回";
    可能结果 = "撤回成功，不能再以同一事实和理由提出行政复议申请";

    if (证明违背真实意思表示)
    {
        可能结果 = "尽管之前撤回，但因能证明撤回违背真实意思表示，可以再次申请行政复议";
    }
}
else if (行动 == "申请撤回" && !同意撤回)
{
    可能结果 = "撤回请求未得到同意，行政复议申请继续进行";
}
else
{
    可能结果 = "无撤回行为，行政复议申请按原流程继续";
}

输出 可能结果;
~~~

## 二、真实代码生成

提示词：

~~~~
你是一个法律专家，同时也是一个高级程序员。请充分理解给出的法律条文规则和对应的伪代码。现在请你将这段伪代码编写为一个python的函数，并尽可能清晰地定义和抽象出入参和返回值：

# 法律条文
申请人在行政复议决定作出前自愿撤回行政复议申请的，经行政复议机构同意，可以撤回。
申请人撤回行政复议申请的，不得再以同一事实和理由提出行政复议申请。但是，申请人能够证明撤回行政复议申请违背其真实意思表示的除外。


# 伪代码
~~~
输入：行为, 事实和理由, 同意撤回, 证明违背真实意思表示;
状态：行政复议申请状态 = "未处理";
输出：行政复议申请的可能结果;

if (行为 == "申请撤回" && 同意撤回)
{
    行政复议申请状态 = "已撤回";
    可能结果 = "撤回成功，不能再以同一事实和理由提出行政复议申请";

    if (证明违背真实意思表示)
    {
        可能结果 = "尽管之前撤回，但因能证明撤回违背真实意思表示，可以再次申请行政复议";
    }
}
else if (行动 == "申请撤回" && !同意撤回)
{
    可能结果 = "撤回请求未得到同意，行政复议申请继续进行";
}
else
{
    可能结果 = "无撤回行为，行政复议申请按原流程继续";
}

输出 可能结果;
~~~

# 真实代码
~~~~

真实代码：

~~~python
def review_withdrawal(decision_action: str, facts_and_reasons: str, consent_to_withdraw: bool, proof_against_true_intention: bool) -> str:
    """
    处理行政复议申请撤回的函数

    参数:
    - decision_action: 行动类型，"申请撤回" 或其他
    - facts_and_reasons: 申请撤回的事实和理由
    - consent_to_withdraw: 行政复议机构是否同意撤回，布尔值
    - proof_against_true_intention: 申请人是否能证明撤回违背其真实意思表示，布尔值

    返回值:
    - str: 描述行政复议申请撤回的可能结果
    """
    
    行动类型为“申请撤回”，并且行政复议机构同意撤回。  ->  true    false

    if decision_action == "申请撤回" and consent_to_withdraw:
        result = "撤回成功，不能再以同一事实和理由提出行政复议申请。"

        if proof_against_true_intention:
            result = "尽管之前撤回，但因能证明撤回违背真实意思表示，可以再次申请行政复议。"

    elif decision_action == "申请撤回" and not consent_to_withdraw:
        result = "撤回请求未得到同意，行政复议申请继续进行。"

    else:
        result = "无撤回行为，行政复议申请按原流程继续。"

    return result
~~~

## 三、单元测试代码生成

提示词：

~~~~
你是一个法律专家，同时也是一个高级程序员。请充分理解给出的法律条文规则和对应的python代码。现在请你将这段python代码写一个单元测试代码：

# 法律条文
申请人在行政复议决定作出前自愿撤回行政复议申请的，经行政复议机构同意，可以撤回。
申请人撤回行政复议申请的，不得再以同一事实和理由提出行政复议申请。但是，申请人能够证明撤回行政复议申请违背其真实意思表示的除外。


# python代码
~~~
def review_withdrawal(decision_action: str, facts_and_reasons: str, consent_to_withdraw: bool, proof_against_true_intention: bool) -> str:
    """
    处理行政复议申请撤回的函数

    参数:
    - decision_action: 行动类型，"申请撤回" 或其他
    - facts_and_reasons: 申请撤回的事实和理由
    - consent_to_withdraw: 行政复议机构是否同意撤回，布尔值
    - proof_against_true_intention: 申请人是否能证明撤回违背其真实意思表示，布尔值

    返回值:
    - str: 描述行政复议申请撤回的可能结果
    """

    if decision_action == "申请撤回" and consent_to_withdraw:
        result = "撤回成功，不能再以同一事实和理由提出行政复议申请。"

        if proof_against_true_intention:
            result = "尽管之前撤回，但因能证明撤回违背真实意思表示，可以再次申请行政复议。"

    elif decision_action == "申请撤回" and not consent_to_withdraw:
        result = "撤回请求未得到同意，行政复议申请继续进行。"

    else:
        result = "无撤回行为，行政复议申请按原流程继续。"

    return result
~~~
~~~~

示例输出：

~~~python
import unittest

class TestReviewWithdrawal(unittest.TestCase):
    def test_withdrawal_success(self):
        result = review_withdrawal(
            decision_action="申请撤回",
            facts_and_reasons="示例事实和理由",
            consent_to_withdraw=True,
            proof_against_true_intention=False
        )
        self.assertEqual(result, "撤回成功，不能再以同一事实和理由提出行政复议申请。")
    
    def test_withdrawal_success_with_proof(self):
        result = review_withdrawal(
            decision_action="申请撤回",
            facts_and_reasons="示例事实和理由",
            consent_to_withdraw=True,
            proof_against_true_intention=True
        )
        self.assertEqual(
            result,
            "尽管之前撤回，但因能证明撤回违背真实意思表示，可以再次申请行政复议。"
        )
    
    def test_withdrawal_denied(self):
        result = review_withdrawal(
            decision_action="申请撤回",
            facts_and_reasons="示例事实和理由",
            consent_to_withdraw=False,
            proof_against_true_intention=False
        )
        self.assertEqual(result, "撤回请求未得到同意，行政复议申请继续进行。")
    
    def test_no_withdrawal_action(self):
        result = review_withdrawal(
            decision_action="非撤回操作",
            facts_and_reasons="",
            consent_to_withdraw=False,
            proof_against_true_intention=False
        )
        self.assertEqual(result, "无撤回行为，行政复议申请按原流程继续。")

# 如果是直接运行此脚本，则执行测试
if __name__ == '__main__':
    unittest.main()
~~~

## 四、入参提取与槽位填充

提示词

~~~
你是一个法律专家，同时也是一个高级程序员。

已知法律条文：{}
已知该法律条文对应的python函数：
{}
现在有一个人提了一个法律问题：{}

请从这个问题中抽取出Python函数的入参，并以json格式输出
~~~

填充后：

~~~~
你是一个法律专家，同时也是一个高级程序员。

已知法律条文：申请人在行政复议决定作出前自愿撤回行政复议申请的，经行政复议机构同意，可以撤回。
申请人撤回行政复议申请的，不得再以同一事实和理由提出行政复议申请。但是，申请人能够证明撤回行政复议申请违背其真实意思表示的除外。

已知该法律条文对应的python函数：
~~~
def review_withdrawal(decision_action: str, facts_and_reasons: str, consent_to_withdraw: bool, proof_against_true_intention: bool) -> str:
    """
    处理行政复议申请撤回的函数

    参数:
    - decision_action: 行动类型，"申请撤回" 或其他
    - facts_and_reasons: 申请撤回的事实和理由
    - consent_to_withdraw: 行政复议机构是否同意撤回，布尔值
    - proof_against_true_intention: 申请人是否能证明撤回违背其真实意思表示，布尔值

    返回值:
    - str: 描述行政复议申请撤回的可能结果
    """

    if decision_action == "申请撤回" and consent_to_withdraw:
        result = "撤回成功，不能再以同一事实和理由提出行政复议申请。"

        if proof_against_true_intention:
            result = "尽管之前撤回，但因能证明撤回违背真实意思表示，可以再次申请行政复议。"

    elif decision_action == "申请撤回" and not consent_to_withdraw:
        result = "撤回请求未得到同意，行政复议申请继续进行。"

    else:
        result = "无撤回行为，行政复议申请按原流程继续。"

    return result
~~~
现在有一个人提了一个法律问题：行政复议已经受理，当时办案单位让我撤销并给处理，如果解决不了是否还可以提起行政复议？

请从这个问题中抽取出Python函数的入参，并以json格式输出
~~~~

示例输出：

~~~json
{
  "decision_action": "申请撤回",
  "facts_and_reasons": "办案单位建议撤销并给处理方案",
  "consent_to_withdraw": true,
  "proof_against_true_intention": false
}
~~~





| 类别                 | 数据量 | 示例输入                                                     | 示例输出                                                     |
| -------------------- | ------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 法律论辩             | 9k     | 在充分比较和理解以下5个备选辩方论点后，从备选的5个辩方论点中选择一个正确恰当的论点：【诉方论点】本案事实清楚、证据充分，被告人的行为构成故意伤害罪。自诉人秦某某腿部骨折系……【备选辩方论点】1. 在案件起因上，被告人、自诉人和同村村民于某甲在于某…… | 2                                                            |
| 罪名预测             | 20k    | 【案件事实】公诉机关指控，2013年间，被告人张×在北京市大兴区×旧货市场购买摩托车驾驶证、行驶证、车牌一套。经鉴定，驾驶证、行驶证、车牌均系伪造。公诉机关认为被告人张×具有如实供述的从轻处罚情节，建议判处被告人张×××至六个月。【罪名】 | 伪造、变造、买卖国家机关公文、证件、印章罪                   |
| 判决预测             | 20k    | 【案件事实】经审理查明，2010年9月6日，被告人曾某在深圳市宝安区民治街道牛栏前万众城步行街伪造“青神县公安局西龙派出所”公章1枚，次日被公安机关查获。上述事实，被告人曾某在庭审过程中无异议，有经庭审举证、质证的被告人曾某的供述、证人曾某的证言及辨认笔录、抓获经过、扣押物品、文件清单、提取笔录、关于西龙派出所公章的回复函、现场勘察笔录及照片等证据证实，足以认定。【刑期】 | 12个月                                                       |
| 法律概念解释         | 7k     | 股份有限公司在什么情况下可以采用累积投票权制度？             | 所谓累积投票权，是指股东大会选举两名以上的董事或监事时，股东所持的每一股份拥有与当选董事或监事总人数相等的投票权，股东既可以用所有的投票权集中投票选举某一人，也可以分散投票选举数人，按得票多少依次决定董事人选的表决权制度。由此可见…… |
| 司法考试             | 21k    | 【题目】我国民事诉讼法规定的管辖中，哪些管辖属于裁定管辖?【选项】A. 级别管辖B. 移送管辖C. 指定管辖D. 管辖权移转【正确答案】 | B, C, D                                                      |
| 法律情景问答         | 15k    | A公司与B公司签订了一份合同，约定B公司向A公司提供商品并由A公司支付货款。A公司将其在该合同下的应收账款转让给了C公司作为保理款项。后来B公司未能按时履行合同约定，导致A公司无法收回货款。请问，在这种情况下，C公司有哪些权利？ | 根据《民法典-合同编》的规定，保理合同应当采用书面形式。同时，《民法典-合同编》第七百六十三条规定，…… |
| 司法建议             | 20k    | 怎么申请行政复议？                                           | 申请行政复议的具体步骤如下：1. 提交申请：……                  |
| 法律多轮对话         | 5k     | 第一轮：老公有家庭暴力行为，我想起诉离婚，请问需要什么手续<br />第二轮：是，我报警了。 | 第一轮：根据您所描述的情况，您可以向人民法院提起离婚诉讼……<br />第二轮：那很好，您的报警记录可以作为证据在离婚诉讼中使用…… |
| 法条伪代码生成       | 20k    | 你是一个法律专家，同时也是一个高级程序员。请根据给出的法律条文规则，将其翻译成一段合理的伪代码。…… | if (条件 != 行政复议先决条件) <br />{  是否向人民法院提起行政诉讼 = False; } <br />else { …… |
| 法律可执行代码生成   | 20k    | 你是一个法律专家，同时也是一个高级程序员。请充分理解给出的法律条文规则和对应的伪代码。现在请你将这段伪代码编写为一个python的函数，并尽可能清晰地定义和抽象出入参和返回值：…… | def review_withdrawal(decision_action: str, facts_and_reasons: str, consent_to_withdraw: bool, proof_against_true_intention: bool) -> str:…… |
| 法律单元测试代码生成 | 20k    | 你是一个法律专家，同时也是一个高级程序员。请充分理解给出的法律条文规则和对应的python代码。现在请你将这段python代码写一个单元测试代码：…… | class TestReviewWithdrawal(unittest.TestCase):……             |

